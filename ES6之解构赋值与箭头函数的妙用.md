# ES6ä¹‹è§£æ„èµ‹å€¼ä¸ç®­å¤´å‡½æ•°çš„å¦™ç”¨

## è§£æ„èµ‹å€¼

  è§£æ„æƒ³å¿…å¤§å®¶éƒ½éå¸¸äº†è§£å§ï¼Œ æ— éœ€å¤šè¨€ã€‚
  å…ˆæ¥çœ‹ä¸ªå°ğŸŒ°

```js
function foo(x,y,z){
  console.log(x,y,z)
}
foo(...[1,2,3])

```

foo.apply(null, [1,2,3])

è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯ ...çš„å¦å¤–ä¸€ç§å¸¸è§ç”¨æ³•åŸºæœ¬ä¸Šå¯ä»¥çœ‹æˆåå‘çš„è¡Œä¸º

```js

function foo(x,y, ...z){
  console.log(x,y,z)
}
foo(1,2,3,4,5)  //1, 2, [3,4,5]

// çŸ¥é“ä¸ºä»€ä¹ˆ(...args)é‡Œé¢çš„ç»å¸¸è¿™æ ·å†™å‡½æ•°äº†
```

// è§£æ„ æˆ‘è·Ÿå€¾å‘äºå«ä»–æ”¶é›†ï¼šresetå‚æ•°

```js
function foo(...args){
  console.log(args)
}

// foo([1,2,3,4,5,])
```

ä»¥ä¸‹æ˜¯è¦æ³¨æ„çš„ç‚¹
// reset/gather å‚æ•°ä¸èƒ½æœ‰é»˜è®¤å€¼

// å‡½æ•°é»˜è®¤å€¼å¯ä»¥æ˜¯ä»»æ„åˆæ³•è¡¨è¾¾å¼ï¼Œå‡½æ•°è°ƒç”¨


```js
function bar(val) {
  console.log('var called')
  return y + val;
}

function foo(x = y + 3, z = bar(x)) {
  console.log(x, z)
}
var y = 5;
foo();

foo(10);

y = 6

foo(undefined, 10);


// undefinedå°±æ˜¯ç¼ºå¤±

//é»˜è®¤å€¼è¡¨è¾¾å¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ï¼Œ  æ˜¯åœ¨å‚æ•°çš„å€¼çœç•¥æˆ–è€…ä¸º undefined çš„æ—¶å€™

// å‡½æ•°å£°æ˜ä¸­å½¢å¼å‚æ•°æ˜¯åœ¨å®ƒä»¬è‡ªå·±çš„ä½œç”¨åŸŸä¸­ï¼Œå¯ä»¥ç†è§£ä¸º(..)çš„ä½œç”¨åŸŸä¸­ï¼Œ è€Œä¸æ˜¯åœ¨å‡½æ•°æä½œç”¨åŸŸä¸­ï¼Œ è¿™æ„å‘³ç€åœ¨é»˜è®¤å€¼è¡¨è¾¾å¼ä¸­çš„æ ‡è¯†ç¬¦å¼•ç”¨é¦–å…ˆåŒ¹é…åˆ°å½¢å¼å‚æ•°ä½œç”¨åŸŸï¼Œç„¶åæ‰ä¼šæœç´¢å¤–å±‚ä½œç”¨åŸŸã€‚
```

var w = 1,
  z = 2;

function foo(x = w + 1, y = x + 1, z = z + 1) {
  console.log(x, y, z)
}
foo(); //ReferenceError


//ES6ä¸­å¼•å…¥äº†TDZ,å®ƒé˜²æ­¢å˜é‡åœ¨æœªåˆå§‹åŒ–çš„çŠ¶æ€ä¸‹è¢«è®¿é—®

//é»˜è®¤å€¼è¡¨è¾¾å¼

// JavaScriptæŠ€å·§  Function.prototypeæœ¬èº«å°±æ˜¯ä¸€ä¸ªæ²¡æœ‰æ“ä½œçš„ç©ºå‡½æ•°



// å‡½æ•°å¼•ç”¨ï¼Œè€Œä¸æ˜¯å‡½æ•°è°ƒç”¨æœ¬èº«ï¼ˆåé¢æ²¡æœ‰è°ƒç”¨å½¢å¼()ï¼‰

// foo ç»“æ„
function foo2() {
  return [1, 2, 3];
}

var tmp = foo2(),
  a = tmp[0],
  b = tmp[1],
  c = tmp[2]

console.log(a, b, c)


// å¯ä»¥æŠŠå°†æ•°ç»„æˆ–è€…å¯¹è±¡å±æ€§ä¸­å¸¦ç´¢å¼•çš„å€¼æ‰‹åŠ¨èµ‹å€¼çœ‹ä½œç»“æ„åŒ–èµ‹å€¼
// æ”¹æˆ
var {
  a,
  b,
  c
} = foo2()

//æ³¨æ„ç‚¹ ä¸åº”è¯¥åœ¨èµ‹å€¼ä¸­æ··å…¥å£°æ˜ï¼Œä¸ç„¶ä¼šå‡ºç°è¯­æ³•é”™è¯¯ã€‚
var x = 10,
  y = 20;
[y, x] = [x, y]
console.log(x, y)

// å¯¹è±¡æˆ–è€…æ•°ç»„ç»“æ„çš„èµ‹å€¼è¡¨è¾¾å¼çš„å®Œæˆå€¼æ˜¯æ‰€æœ‰å³ä¾§å¯¹è±¡/æ•°ç»„çš„å€¼ã€‚

var a = [2, 3, 4];
var b = [...a, c]

// ç»“æ„å‚æ•°


function f3([x, t, ...z], ...w) {
  console.log(x, y, z, w)
}

f3([]);
f3([1, 2, 3, 4], 5, 6)

è§£æ„é»˜è®¤å€¼ + å‚æ•°é»˜è®¤å€¼
//å‡½æ•°å‚æ•°é»˜è®¤å€¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯è§£æ„é»˜è®¤å€¼ã€‚ å®ƒåªåœ¨ç¬¬äºŒå‚æ•°æ²¡æœ‰ä¼ å…¥ï¼Œæˆ–è€…ä¼ å…¥undefinedçš„æ—¶å€™æ‰ä¼šç”Ÿæ•ˆã€‚
çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­:
  function test({
    x = 1
  } = {}, {
    y
  } = {
    y: 2
  }) {
    console.log(x, y);
  }
test({}, {}); //1 undefined
test(); // 1 2
test(undefined, undefined) //1 2
test({}, undefined) //1,2
test({
  x: 2
}, {
  y: 3
}) //2 3

// æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°({})ï¼Œ æ‰€ä»¥æ²¡æœ‰ä½¿ç”¨é»˜è®¤å€¼{y:10},è€Œæ˜¯åœ¨ä¼ å…¥çš„ç©ºå¯¹è±¡{}ä¸Šè¿›è¡Œ{y}ç»“æ„


// åµŒå¥—é»˜è®¤

//defaultåˆå¹¶è¿›config
var defaultt = {
  options: {
    remove: 1,
    enable: 2,
  }
} 
{
  //ï¼ˆå¸¦é»˜è®¤å€¼èµ‹å€¼çš„ï¼‰çš„è§£æ„
  let {
    options: {
      remove: defaultt.options.remove,
      enable: defaultt.options.enable,
    } = {},
    log: {
      warn = defalut.log.warn,
      error = defalut.log.error
    }
  } = config;

  //é‡ç»„
  config = {
    options: {
      remove,
      enable
    },
    log: {
      warn,
      error
    }
  };
}

//ç”Ÿæˆå™¨ 
var o = {
  * foo() {

  }
}

//æ·±å…¥ç†è§£
runSomething({
  something: function something(x, y) {
    if (x > y) {
      //äº¤æ¢xå’Œyçš„é€’å½’è°ƒç”¨
      return something(y, x)
    }

    return y - x
  }
})

//1.ç¬¬ä¸€ä¸ªå±æ€§somethingä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡o.someting(..)æ¥è°ƒç”¨ï¼Œåƒæ˜¯å®ƒçš„å…¬å¼€åç§°ã€‚ è€Œç¬¬äºŒä¸ªsomethingæ˜¯ä¸€ä¸ªè¯æ³•åç§°ï¼Œ ç”¨äºå…¶åœ¨è‡ªèº«å†…éƒ¨å¼•ç”¨è¿™ä¸ªå‡½æ•°ï¼Œ å…¶ç›®çš„æ˜¯é€’å½’ã€‚

// å¦‚æœæˆ‘ä»¬é‡‡ç”¨ç®€æ´æ–¹æ³•çš„è¯ 
runSomething({
  something(x, y) {
    if (x > y) {
      //äº¤æ¢xå’Œyçš„é€’å½’è°ƒç”¨
      return something(y, x)
    }
    return y - x
  }
})

// ä¼šæç¤ºæ‰¾ä¸åˆ°sometingæ ‡è¯†ç¬¦
// ç®€æ´æ–¹æ³•æ„å‘³ç€åŒ¿åå‡½æ•°è¡¨è¾¾å¼
// ä½ åº”è¯¥åœ¨ä¸éœ€è¦å®ƒä»¬æ‰§è¡Œé€’å½’æˆ–è€…äº‹ä»¶ç»‘å®š / è§£ç»‘å®šçš„æ—¶å€™ä½¿ç”¨

var o = {
  __id: 10,
  get id() {
    return this.__id++;
  },
  set id(v) {
    return this.__id = v;
  }
}
o.id;
o.id;
o.id = 20;
o.id;

o.__id;
o.__id;

// setterå­—é¢é‡å¿…é¡»æœ‰ä¸”åªæœ‰ä¸€ä¸ªå£°æ˜å‚æ•°ï¼šçœç•¥æˆ–è€…å¤šå†™éƒ½æ˜¯è¯­æ³•é”™è¯¯
// æ‰€éœ€çš„å‚æ•°å¯ä»¥ä½¿ç”¨è§£æ„å’Œé»˜è®¤å€¼set id({id: v=0}){..}
// ä½†æ˜¯gather/reset...æ˜¯ä¸å…è®¸çš„set id(...v){..}


// superåªå…è®¸åœ¨ç®€æ´æ–¹æ³•ä¸­å‡ºç°ï¼Œè€Œä¸å…è®¸åœ¨æ™®é€šå‡½æ•°è¡¨è¾¾å¼å±æ€§ä¸­å‡ºç°ï¼Œä¹Ÿåªå…è®¸ä»¥super.xxxçš„å½¢å¼ï¼ˆç”¨äºå±æ€§/æ–¹æ³•è®¿é—®ï¼‰å‡ºç°ï¼Œè€Œä¸èƒ½ä»¥super()çš„å¿ƒäº‹å‡ºç°

å­—ç¬¦ä¸²å­—é¢é‡åœ¨å®ƒå‡ºç°çš„è¯æ³•ä½œç”¨åŸŸå†…, æ²¡æœ‰ä»»ä½•å½¢å¼çš„åŠ¨æ€ä½œç”¨åŸŸ


function foo(string ,...value){
  console.log('string: ', string);
  console.log('...value: ', ...value);
}
var desc = 'awesome'

foo`Everything is ${desc}!`;
["everything is ", " ! "]
["awesome"]

//æ ‡ç­¾ï¼ˆtagï¼‰éƒ¨åˆ†ï¼Œå³`..`å­—ç¬¦ä¸²å­—é¢é‡ä¹‹å‰è¯´çš„fooè¿™ä¸€éƒ¨åˆ†ï¼Œæ˜¯ä¸€ä¸ªè¦è°ƒç”¨çš„å‡½æ•°å€¼ã€‚
// å®é™…ä¸Šå®ƒå¯ä»¥æ˜¯ä»»æ„ç»“æœä¸ºå‡½æ•°çš„è¡¨è¾¾å¼ï¼Œç”šè‡³å¯ä»¥æ˜¯ä¸€ä¸ªç»“æœä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°è°ƒç”¨

// ç®­å¤´å‡½æ•°æ€»æ˜¯è¡¨è¾¾å¼ï¼Œä¸å­˜åœ¨ç®­å¤´å‡½æ•°å£°æ˜
// åœ¨ç®­å¤´å‡½æ•°å†…éƒ¨, thisç»‘å®šä¸æ˜¯éƒ½åŠ¨æ€çš„ï¼Œè€Œæ˜¯è¯­æ³•çš„ã€‚
// => æ˜¯ var self = thisï¼ˆ æˆ–è€….bind(this) ï¼‰çš„è¯æ³•æ›¿ä»£å½¢å¼ 


// ç®­å¤´å‡½æ•°çš„é€‚ç”¨æ—¶æœºè§„åˆ™ï¼š
// *ç®€çŸ­å•å¥ï¼Œreturnå‡ºæŸä¸ªå€¼ -> å‡½æ•°å†…éƒ¨æ²¡æœ‰thiså¼•ç”¨ï¼Œä¸”æ²¡æœ‰è‡ªèº«å¼•ç”¨ï¼ˆé€’å½’ã€äº‹ä»¶ç»‘å®š/è§£ç»‘ï¼‰ -> ä¸æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼å®šä¹‰çš„å…¶ä»–å‡½æ•°

// *å†…å±‚å‡½æ•°è¡¨è¾¾å¼ï¼Œå¦‚æœä¾èµ–äºåœ¨åŒ…å«å®ƒçš„å‡½æ•°ä¸­è°ƒç”¨var self = thisï¼ˆ æˆ–è€….bind(this) ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå†…å±‚è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚

// åº•çº¿=>  æ˜¯å…³äºthisã€argumentsã€superçš„è¯æ³•ç»‘å®šã€‚


// in  indexedDB
// of  value



// æ•°ç»„è½¬æˆå¯¹è±¡
var a = ['a', 'b', 'c']  //å¯ä»¥ä¸ºå¯¹è±¡æˆ–è€…æ•°ç»„ 
k = Object.keys(a);  //è¿”å›çš„å±æ€§åæˆ–è€…æ–¹æ³•å è‹¥æ˜¯æ•°ç»„è¿”å›index
console.log(k);

//JavaScriptä¸­é»˜è®¤ä¸ºiterableçš„æ ‡å‡†å†…å»ºå€¼
Â· Arrays
Â· Strings
Â· Genteratos
Â· Collections/TypedArrays



// ä¸€ä¸ªå­—èŠ‚ç­‰äº8ä½äºŒè¿›åˆ¶ 1B = 8bit

// lastIndex ä¼šè®¾å®šä½åŒ¹é…ç»“å°¾å¤„çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²











