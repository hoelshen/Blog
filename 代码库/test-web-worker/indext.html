<!DOCTYPE html>
<html>

<head>
  <title></title>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function () {
  
      $("#btnStart").click(function () {
        // var worker = new Worker("./worker.js");
        const blob = new Blob([document.querySelector('#worker').textContent], { type: "application/javascript" });
        const url = window.URL.createObjectURL(blob);

        const worker = new Worker(url);

     
        console.log("ðŸš€ ~ file: indext.html:12 ~ worker:", worker)
        worker.addEventListener(
          "message",
          function (evt) {
            alert(evt.data);
          },
          false
        );
        worker.postMessage(10000);
      });
    });
</script>
</head>

<body>
    <script id="worker" type="app/worker">
                self.addEventListener('message', function (event) {
                  postMessage('Got a message from the main thread');
                }, false);
        </script>
  <form>
    <input type="button" id="btnStart" value="Start Processing" />
  </form>
</body>

</html>
<!-- 
ä¸Šé¢ä»£ç ä¸­ï¼Œå…ˆå°†åµŒå…¥ç½‘é¡µçš„è„šæœ¬ä»£ç ï¼Œè½¬æ¢ä¸ºä¸€ä¸ªäºŒè¿›åˆ¶å¯¹è±¡ï¼Œç„¶åŽä¸ºè¿™ä¸ªäºŒè¿›åˆ¶å¯¹è±¡ç”Ÿæˆ URLï¼Œå†è®© Worker åŠ è½½è¿™ä¸ª URLã€‚è¿™æ ·å°±åšåˆ°äº†ï¼Œä¸»çº¿ç¨‹å’Œ Worker çš„ä»£ç éƒ½åœ¨åŒä¸€ä¸ªç½‘é¡µä¸Šé¢
-->